{% extends 'songs/base.html' %}

{% block content %}

<div style="max-width:1000px; margin:40px auto; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">

    <!-- Page Title -->
    <h2 style="
        text-align:center;
        font-size:36px;
        color:#222;
        text-shadow:1px 1px 3px rgba(255,255,255,0.6);
        margin-bottom:30px;
    ">
        Ø§Ù„ØªØ±Ù†ÙŠÙ…Ø§Øª
    </h2>

    <!-- Search Form -->
    <form method="get"
          style="
            display:flex;
            flex-wrap:wrap;
            gap:10px;
            justify-content:center;
            margin-bottom:10px;
          ">

        <!-- Keyword search -->
        <input
            name="keywords"
            placeholder="Ø¨Ø­Ø« Ø¨Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ©"
            value="{{ keyword_q }}"
            style="
                padding:10px 15px;
                border-radius:4px;
                border:1px solid #000;
                flex:1;
                min-width:200px;
                font-size:16px;
                color:black;
                background:rgba(255,255,255,0.8);
            "
        >

        <!-- Lyrics search -->
        <input
            name="lyrics"
            placeholder="Ø¨Ø­Ø« ÙÙŠ ÙƒÙ„Ù…Ø§Øª Ø§Ù„ØªØ±Ù†ÙŠÙ…Ø©"
            value="{{ lyrics_q }}"
            style="
                padding:10px 15px;
                border-radius:4px;
                border:1px solid #000;
                flex:1;
                min-width:200px;
                font-size:16px;
                color:black;
                background:rgba(255,255,255,0.8);
            "
        >

        <!-- Submit -->
        <button type="submit"
                style="
                    padding:10px 20px;
                    border:none;
                    background:black;
                    color:white;
                    border-radius:4px;
                    cursor:pointer;
                    font-size:16px;
                    transition:background 0.2s;
                ">
            ğŸ” Ø¨Ø­Ø«
        </button>
    </form>

    <!-- Keyword hint -->
    <div style="text-align:center; margin-bottom:25px;">
        <small style="color:#333;">
            Ø§ÙØµÙ„ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø¨ÙØ§ØµÙ„Ø© (ØŒ) Ù…Ø«Ù„: ÙŠØ³ÙˆØ¹ØŒ Ù…Ù„Ùƒ
        </small>
    </div>

    <!-- Songs Table -->
    <table style="
        width:100%;
        border-collapse:collapse;
        text-align:right;
        border:1px solid #000;
        background:rgba(255,255,255,0.8);
    ">
        <thead>
            <tr style="background:black; color:white; text-align:center;">
                <th style="padding:12px; border:1px solid #000;">Ø§Ù„ØªØ±Ù†ÙŠÙ…Ø©</th>
                <th style="padding:12px; border:1px solid #000;">Ø£Ù†Ø«Ø±ÙˆØ¨ÙˆÙ„ÙˆØ¬ÙŠ</th>
                <th style="padding:12px; border:1px solid #000;">Ù„Ø§Ù‡ÙˆØªÙŠ</th>
            </tr>
        </thead>

        <tbody>
            {% for song in songs|dictsort:"title" %}
            <tr style="border-bottom:1px solid #000;">
                <td style="padding:10px;">
                    <a href="{% url 'song_detail' song.id %}?lyrics={{ lyrics_q }}"
                       class="song-link">
                        {{ song.title }}
                    </a>
                </td>
                <td style="padding:10px;">
                    {{ song.anthropological_keywords }}
                </td>
                <td style="padding:10px;">
                    {{ song.theological_keywords }}
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="3"
                    style="text-align:center; padding:15px; color:#555;">
                    Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ±Ù†ÙŠÙ…Ø§Øª Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ù„Ø¨Ø­Ø«.
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- Styles -->
    <style>
        .song-link {
            color: #000;
            font-weight: bold;
            text-decoration: none;
            transition: color 0.2s, transform 0.2s;
        }

        .song-link:hover {
            color: #444;
            text-decoration: underline;
            transform: translateX(3px);
        }
    </style>

    <!-- Back Button -->
    <div style="text-align:center; margin-top:30px;">
        <a href="{% url 'welcome' %}"
           style="
                padding:10px 20px;
                background:black;
                color:white;
                border-radius:4px;
                text-decoration:none;
                transition:background 0.2s;
           ">
            Ø§Ù„Ø¹ÙˆØ¯Ø©
        </a>
    </div>

</div>

{% endblock %}
